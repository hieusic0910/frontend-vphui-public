{"ast":null,"code":"import _slicedToArray from \"/Users/hieutran/Desktop/create-social-network-master/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/hieutran/Desktop/create-social-network-master/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/Users/hieutran/Desktop/create-social-network-master/frontend/src/components/App/UserSuggestions.js\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _templateObject5,\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { matchPath } from 'react-router';\nimport { generatePath } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\nimport { Loading } from 'components/Loading';\nimport { H3, A } from 'components/Text';\nimport { Spacing } from 'components/Layout';\nimport Avatar from 'components/Avatar';\nimport { useStore } from 'store';\nimport { USER_SUGGESTIONS } from 'graphql/user';\nimport { USER_SUGGESTIONS_WIDTH, HEADER_HEIGHT } from 'constants/Layout';\nimport * as Routes from 'routes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Root = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  display: none;\\n  background-color: \", \";\\n  border: 1px solid \", \";\\n  position: sticky;\\n  top: \", \"px;\\n  right: 0;\\n  height: 100%;\\n  width: \", \"px;\\n  padding: \", \";\\n  border-radius: \", \";\\n\\n  @media (min-width: \", \") {\\n    display: block;\\n  }\\n\"])), function (p) {\n  return p.theme.colors.white;\n}, function (p) {\n  return p.theme.colors.border.main;\n}, HEADER_HEIGHT + 40, USER_SUGGESTIONS_WIDTH, function (p) {\n  return p.theme.spacing.sm;\n}, function (p) {\n  return p.theme.radius.sm;\n}, function (p) {\n  return p.theme.screen.md;\n});\n_c = Root;\nvar List = styled.ul(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  padding: 0;\\n  padding-top: \", \";\\n\"])), function (p) {\n  return p.theme.spacing.xs;\n});\n_c2 = List;\nvar ListItem = styled.li(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  list-style-type: none;\\n  display: flex;\\n  flex-direction: row;\\n  margin-bottom: \", \";\\n\\n  &:last-child {\\n    margin-bottom: 0;\\n  }\\n\"])), function (p) {\n  return p.theme.spacing.sm;\n});\n_c3 = ListItem;\nvar FullName = styled.div(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  font-weight: \", \";\\n  color: \", \";\\n\"])), function (p) {\n  return p.theme.font.weight.bold;\n}, function (p) {\n  return p.active ? p.theme.colors.primary.main : p.theme.colors.text.primary;\n});\n_c4 = FullName;\nvar UserName = styled.div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  color: \", \";\\n\"])), function (p) {\n  return p.theme.colors.text.hint;\n});\n/**\n * Displays user suggestions\n */\n\n_c5 = UserName;\n\nvar UserSuggestions = function UserSuggestions(_ref) {\n  _s();\n\n  var pathname = _ref.pathname;\n\n  var _useStore = useStore(),\n      _useStore2 = _slicedToArray(_useStore, 1),\n      auth = _useStore2[0].auth;\n\n  var _useQuery = useQuery(USER_SUGGESTIONS, {\n    variables: {\n      userId: auth.user.id\n    }\n  }),\n      data = _useQuery.data,\n      loading = _useQuery.loading;\n\n  var hideUserSuggestions = matchPath(pathname, {\n    path: [Routes.MESSAGES, Routes.PEOPLE, Routes.EXPLORE, Routes.USER_PROFILE]\n  });\n  if (hideUserSuggestions) return null;\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Root, {\n      children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, _this);\n  }\n\n  if (!data.suggestPeople.length > 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(Root, {\n    children: [/*#__PURE__*/_jsxDEV(H3, {\n      children: \"Suggestions For You\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(List, {\n      children: data.suggestPeople.map(function (user) {\n        if (!user.username) return null;\n        return /*#__PURE__*/_jsxDEV(ListItem, {\n          children: [/*#__PURE__*/_jsxDEV(A, {\n            to: generatePath(Routes.USER_PROFILE, {\n              username: user.username\n            }),\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              image: user.image\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(Spacing, {\n            left: \"xs\",\n            children: /*#__PURE__*/_jsxDEV(A, {\n              to: generatePath(Routes.USER_PROFILE, {\n                username: user.username\n              }),\n              children: [/*#__PURE__*/_jsxDEV(FullName, {\n                children: user.fullName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(UserName, {\n                children: [\"@\", user.username]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, _this)]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(UserSuggestions, \"n3AVz/6JCRwJw+FvORr3J7hxsMY=\", false, function () {\n  return [useStore, useQuery];\n});\n\n_c6 = UserSuggestions;\nUserSuggestions.propTypes = {\n  pathname: PropTypes.string.isRequired\n};\nexport default UserSuggestions;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Root\");\n$RefreshReg$(_c2, \"List\");\n$RefreshReg$(_c3, \"ListItem\");\n$RefreshReg$(_c4, \"FullName\");\n$RefreshReg$(_c5, \"UserName\");\n$RefreshReg$(_c6, \"UserSuggestions\");","map":{"version":3,"sources":["/Users/hieutran/Desktop/create-social-network-master/frontend/src/components/App/UserSuggestions.js"],"names":["React","PropTypes","styled","matchPath","generatePath","useQuery","Loading","H3","A","Spacing","Avatar","useStore","USER_SUGGESTIONS","USER_SUGGESTIONS_WIDTH","HEADER_HEIGHT","Routes","Root","div","p","theme","colors","white","border","main","spacing","sm","radius","screen","md","List","ul","xs","ListItem","li","FullName","font","weight","bold","active","primary","text","UserName","hint","UserSuggestions","pathname","auth","variables","userId","user","id","data","loading","hideUserSuggestions","path","MESSAGES","PEOPLE","EXPLORE","USER_PROFILE","suggestPeople","length","map","username","image","fullName","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { matchPath } from 'react-router';\nimport { generatePath } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n\nimport { Loading } from 'components/Loading';\nimport { H3, A } from 'components/Text';\nimport { Spacing } from 'components/Layout';\nimport Avatar from 'components/Avatar';\n\nimport { useStore } from 'store';\n\nimport { USER_SUGGESTIONS } from 'graphql/user';\n\nimport { USER_SUGGESTIONS_WIDTH, HEADER_HEIGHT } from 'constants/Layout';\n\nimport * as Routes from 'routes';\n\nconst Root = styled.div`\n  display: none;\n  background-color: ${(p) => p.theme.colors.white};\n  border: 1px solid ${(p) => p.theme.colors.border.main};\n  position: sticky;\n  top: ${HEADER_HEIGHT + 40}px;\n  right: 0;\n  height: 100%;\n  width: ${USER_SUGGESTIONS_WIDTH}px;\n  padding: ${(p) => p.theme.spacing.sm};\n  border-radius: ${(p) => p.theme.radius.sm};\n\n  @media (min-width: ${(p) => p.theme.screen.md}) {\n    display: block;\n  }\n`;\n\nconst List = styled.ul`\n  padding: 0;\n  padding-top: ${(p) => p.theme.spacing.xs};\n`;\n\nconst ListItem = styled.li`\n  list-style-type: none;\n  display: flex;\n  flex-direction: row;\n  margin-bottom: ${(p) => p.theme.spacing.sm};\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nconst FullName = styled.div`\n  font-weight: ${(p) => p.theme.font.weight.bold};\n  color: ${(p) => (p.active ? p.theme.colors.primary.main : p.theme.colors.text.primary)};\n`;\n\nconst UserName = styled.div`\n  color: ${(p) => p.theme.colors.text.hint};\n`;\n\n/**\n * Displays user suggestions\n */\nconst UserSuggestions = ({ pathname }) => {\n  const [{ auth }] = useStore();\n  const { data, loading } = useQuery(USER_SUGGESTIONS, {\n    variables: { userId: auth.user.id },\n  });\n\n  const hideUserSuggestions = matchPath(pathname, {\n    path: [Routes.MESSAGES, Routes.PEOPLE, Routes.EXPLORE, Routes.USER_PROFILE],\n  });\n\n  if (hideUserSuggestions) return null;\n\n  if (loading) {\n    return (\n      <Root>\n        <Loading />\n      </Root>\n    );\n  }\n\n  if (!data.suggestPeople.length > 0) {\n    return null;\n  }\n\n  return (\n    <Root>\n      <H3>Suggestions For You</H3>\n\n      <List>\n        {data.suggestPeople.map((user) => {\n          if (!user.username) return null;\n\n          return (\n            <ListItem key={user.id}>\n              <A\n                to={generatePath(Routes.USER_PROFILE, {\n                  username: user.username,\n                })}\n              >\n                <Avatar image={user.image} />\n              </A>\n\n              <Spacing left=\"xs\">\n                <A\n                  to={generatePath(Routes.USER_PROFILE, {\n                    username: user.username,\n                  })}\n                >\n                  <FullName>{user.fullName}</FullName>\n                  <UserName>@{user.username}</UserName>\n                </A>\n              </Spacing>\n            </ListItem>\n          );\n        })}\n      </List>\n    </Root>\n  );\n};\n\nUserSuggestions.propTypes = {\n  pathname: PropTypes.string.isRequired,\n};\n\nexport default UserSuggestions;\n"]},"metadata":{},"sourceType":"module"}